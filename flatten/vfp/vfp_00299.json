{
    "vfp_id": "vfp_00299",
    "project_name": "2025-06-offchain-setcoregovernorquorumaction-securityreview.pdf",
    "findings": [
        {
            "id": 0,
            "category": {
                "1": [
                    "CWE-693"
                ],
                "2": [
                    "CWE-358"
                ]
            },
            "title": "Missing Post-Execution Quorum Validation in perform Function",
            "description": "1. **Description:** The perform function in the SetCoreGovernorQuorumAction contract does not verify that the quorum update was successfully applied after calling coreGov.relay. According to governance standards, such validation is expected to ensure the integrity of the state change.\n2. **Cause:** The function lacks an after-check to confirm that the quorum numerator has been correctly updated to the expected value (450) post-execution, which violates the governance action contract guidelines.\n3. **Exploitation:** While not directly exploitable for financial gain, a malfunction in the relay call or an unexpected revert in the target contract could result in a failed state update without the action contract detecting it, leading to an inconsistent system state.\n4. **Impact:** The lack of validation could result in the governance action appearing successful while the intended quorum change was not actually applied, undermining the reliability and auditability of the governance process.\n",
            "severity": "Informational",
            "location": [
                "SetCoreGovernorQuorumAction.sol::perform#18-27"
            ],
            "files": [
                "governance/src/gov-action-contracts/governance/SetCoreGovernorQuorumAction.sol"
            ]
        }
    ],
    "affected_files": {
        "SetCoreGovernorQuorumAction.sol": "// SPDX-License-Identifier: Apache-2.0\npragma solidity 0.8.16;\n\nimport \"../address-registries/L2AddressRegistry.sol\";\nimport\n    \"@openzeppelin/contracts-upgradeable/governance/extensions/GovernorVotesQuorumFractionUpgradeable.sol\";\n\n/// @notice Governance action for setting the quorum numerator for the core governor\ncontract SetCoreGovernorQuorumAction {\n    ICoreGovGetter public immutable govAddressRegisry;\n    uint256 public immutable newQuorumNumerator;\n\n    constructor(ICoreGovGetter _govAddressRegisry, uint256 _newQuorumNumerator) {\n        govAddressRegisry = _govAddressRegisry;\n        newQuorumNumerator = _newQuorumNumerator;\n    }\n\n    function perform() external {\n        IL2ArbitrumGoverner coreGov = govAddressRegisry.coreGov();\n        coreGov.relay(\n            address(coreGov),\n            0,\n            abi.encodeCall(\n                GovernorVotesQuorumFractionUpgradeable.updateQuorumNumerator, newQuorumNumerator\n            )\n        );\n    }\n}\n"
    }
}