{
    "vfp_id": "vfp_00213",
    "project_name": "ackee-blockchain-let's-get-hai-new-core-features-report.pdf",
    "findings": [
        {
            "id": 3,
            "category": {
                "1": [
                    "CWE-710"
                ],
                "2": [
                    "CWE-684"
                ],
                "3": [
                    "CWE-440"
                ]
            },
            "title": "External interface IPessimisticVeloLpOracle is outdated",
            "description": "The `IPessimisticVeloLpOracle` interface defines a function `getCurrentPoolPrice`, but the actual implementation at the provided address uses `getCurrentPrice`, making the two incompatible. This mismatch causes any call to `_getPriceValue` through the interface to revert, breaking functionality in dependent contracts such as `BeefyVeloVaultRelayer` and `YearnVeloVaultRelayer`. The root cause is a failure to synchronize the interface definition with the deployed implementation, likely due to a refactor that was not reflected in the audited codebase. An attacker cannot directly exploit this for financial gain, but any user or protocol component relying on these oracle functions will experience failed transactions, leading to a denial of service. The impact is high in terms of system usability, as core oracle functionality becomes non-operational, potentially halting dependent processes in the protocol.\n",
            "severity": "High",
            "location": [
                "IPessimisticVeloLpOracle.sol::getCurrentPoolPrice",
                "BeefyVeloVaultRelayer.sol::getResultWithValidity",
                "YearnVeloVaultRelayer.sol::read"
            ],
            "files": [
                "core/src/interfaces/external/IPessimisticVeloLpOracle.sol"
            ]
        }
    ],
    "affected_files": {
        "IPessimisticVeloLpOracle.sol": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.20;\n\ninterface IPessimisticVeloLpOracle {\n  function getCurrentPoolPrice(address _pool) external view returns (uint256 _price);\n}\n"
    }
}